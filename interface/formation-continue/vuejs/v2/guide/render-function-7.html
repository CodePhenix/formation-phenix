

<!DOCTYPE html>
<html lang="vi">
  <head>
    <title>Các hàm render & JSX — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - Framework JavaScript linh động">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/guide/render-function.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Các hàm render & JSX — Vue.js">
    <meta property="og:description" content="Vue.js - Framework JavaScript linh động">
    <meta property="og:image" content="https://vi.vuejs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Các hàm render & JSX — Vue.js">
    <meta name="twitter:description" content="Vue.js - Framework JavaScript linh động">
    <meta name="twitter:image" content="https://vi.vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>window.PAGE_TYPE = "guide"</script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'vi.vuejs.org');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  </head>
  <body class="docs">
    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Học Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/v2/guide/" class="nav-link current">Hướng dẫn</a></li>
      <li><a href="/v2/api/" class="nav-link">API</a></li>
      <li><a href="/v2/style-guide/" class="nav-link">Phong cách viết</a></li>
      <li><a href="/v2/examples/" class="nav-link">Một số ví dụ</a></li>
      <li><a href="/v2/cookbook/" class="nav-link">Cookbook</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Hệ sinh thái</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Hỗ trợ</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/" class="nav-link" target="_blank">Diễn đàn</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Chat</a></li>
    </ul></li>
    <li><h4>Công cụ</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Devtools</a></li>
        <li><a href="https://vuejs-templates.github.io/webpack" class="nav-link" target="_blank">Webpack Template</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Thư viện chính thức</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Tin tức</h4></li>
    <li><ul>
      <li><a href="https://news.vuejs.org" class="nav-link" target="_blank">Tin tức hàng tuần</a></li>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank">Roadmap</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Việc làm</a></li>
    </ul></li>
    <li><h4>Tài nguyên</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Nhóm Vue.js trên GitHub</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Đội ngũ</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a href="/support-vuejs/" class="nav-link">Hỗ trợ Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/support-vuejs/#One-time-Donations" class="nav-link">Đóng góp một lần</a></li>
      <li><a href="/support-vuejs/#Recurring-Pledges" class="nav-link">Đóng góp thường xuyên</a></li>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Mua áo thun</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Ngôn ngữ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">Français</a></li>
  </ul>
</li>


  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Học Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/v2/guide/" class="nav-link current">Hướng dẫn</a></li>
      <li><a href="/v2/api/" class="nav-link">API</a></li>
      <li><a href="/v2/style-guide/" class="nav-link">Phong cách viết</a></li>
      <li><a href="/v2/examples/" class="nav-link">Một số ví dụ</a></li>
      <li><a href="/v2/cookbook/" class="nav-link">Cookbook</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Hệ sinh thái</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Hỗ trợ</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/" class="nav-link" target="_blank">Diễn đàn</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Chat</a></li>
    </ul></li>
    <li><h4>Công cụ</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Devtools</a></li>
        <li><a href="https://vuejs-templates.github.io/webpack" class="nav-link" target="_blank">Webpack Template</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Thư viện chính thức</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Tin tức</h4></li>
    <li><ul>
      <li><a href="https://news.vuejs.org" class="nav-link" target="_blank">Tin tức hàng tuần</a></li>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank">Roadmap</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Việc làm</a></li>
    </ul></li>
    <li><h4>Tài nguyên</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Nhóm Vue.js trên GitHub</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Đội ngũ</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a href="/support-vuejs/" class="nav-link">Hỗ trợ Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/support-vuejs/#One-time-Donations" class="nav-link">Đóng góp một lần</a></li>
      <li><a href="/support-vuejs/#Recurring-Pledges" class="nav-link">Đóng góp thường xuyên</a></li>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Mua áo thun</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Ngôn ngữ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/render-function.html" class="nav-link" target="_blank">Français</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
      <div id="sidebar-sponsors-special">
  <div class="main-sponsor">
    <span>Tài trợ đặc biệt</span>
    <div>
    <a href="https://stdlib.com" target="_blank" class="logo">
      <img src="/images/stdlib.png">
    </a>
    <a href="https://www.bitsrc.io/?utm_source=vue&utm_medium=vue&utm_campaign=vue&utm_term=vue&utm_content=vue" target="_blank" class="logo">
      <img src="/images/bit-wide.png">
    </a>
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum">
  <div class="main-sponsor">
    <span>Tài trợ Patreon</span>
    <div>
    <a href="http://tooltwist.com/" target="_blank" class="logo">
      <img src="/images/tooltwist.png">
    </a>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" class="logo">
      <img src="/images/vueschool.png">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    Trở thành nhà tài trợ
  </a>
</div>

      <h2>
        
        Hướng dẫn
        <!--
        
          <select class="version-select">
            <option value="SELF" selected>2.x</option>
            <option value="v1">1.0</option>
            <option value="012">0.12</option>
            <option value="011">0.11</option>
          </select>
        
        -->
      </h2>
      <ul class="menu-root">
  
    
    
      
        <li><h3>Khái niệm cơ bản</h3></li>
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/installation.html" class="sidebar-link">Cài đặt</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/index.html" class="sidebar-link">Giới thiệu</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/instance.html" class="sidebar-link">Đối tượng Vue</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/syntax.html" class="sidebar-link">Cú pháp template</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/computed.html" class="sidebar-link">Computed property và watcher</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/class-and-style.html" class="sidebar-link">Binding cho class và style</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/conditional.html" class="sidebar-link">Render theo điều kiện</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/list.html" class="sidebar-link">Render danh sách</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/events.html" class="sidebar-link">Xử lí sự kiện</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/forms.html" class="sidebar-link">Ràng buộc form input</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components.html" class="sidebar-link">Cơ bản về component</a>
    </li>
  
    
    
      
      
        <li><h3>Components In-Depth</h3></li>
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-registration.html" class="sidebar-link">Đăng kí Component</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-props.html" class="sidebar-link">Props</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-custom-events.html" class="sidebar-link">Custom Events</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-slots.html" class="sidebar-link">Slots</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-dynamic-async.html" class="sidebar-link">Dynamic & Async Components</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-edge-cases.html" class="sidebar-link">Handling Edge Cases</a>
    </li>
  
    
    
      
      
      
        <li><h3>Hiệu ứng chuyển động</h3></li>
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/transitions.html" class="sidebar-link">Transition cho enter/leave & danh sách</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/transitioning-state.html" class="sidebar-link">Transition cho trạng thái</a>
    </li>
  
    
    
      
      
      
      
        <li><h3>Tái sử dụng & kết hợp</h3></li>
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/mixins.html" class="sidebar-link">Mixin</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/custom-directive.html" class="sidebar-link">Directive tùy biến</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/render-function.html" class="sidebar-link current">Các hàm render & JSX</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/plugins.html" class="sidebar-link">Plugin</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/filters.html" class="sidebar-link">Filter</a>
    </li>
  
    
    
      
      
      
      
      
        <li><h3>Công cụ</h3></li>
      
      
      
      
    
    <li>
      <a href="/v2/guide/deployment.html" class="sidebar-link">Triển khai cho môi trường production</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/single-file-components.html" class="sidebar-link">Single File Components</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/unit-testing.html" class="sidebar-link">Unit test</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/typescript.html" class="sidebar-link">TypeScript Support</a>
    </li>
  
    
    
      
      
      
      
      
      
        <li><h3>Mở rộng quy mô ứng dụng</h3></li>
      
      
      
    
    <li>
      <a href="/v2/guide/routing.html" class="sidebar-link">Routing</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/state-management.html" class="sidebar-link">Quản lí trạng thái</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/ssr.html" class="sidebar-link">Render ở phía server</a>
    </li>
  
    
    
      
      
      
      
      
      
      
        <li><h3>Bên trong Vue</h3></li>
      
      
    
    <li>
      <a href="/v2/guide/reactivity.html" class="sidebar-link">Reactivity in Depth</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
        <li><h3>Thông tin thêm</h3></li>
      
    
    <li>
      <a href="/v2/guide/comparison.html" class="sidebar-link">Comparison with Other Frameworks</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/join.html" class="sidebar-link">Join the Vue.js Community!</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/team.html" class="sidebar-link">Đội ngũ</a>
    </li>
  
</ul>

    </div>
  </div>
</div>


<div class="content guide with-sidebar render-function-guide">
  
    
      <div id="ad">
  <script>
    (function () {
      var s = document.createElement('script')
      s.setAttribute('async', '')
      s.src = '//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs'
      s.id = '_carbonads_js'
      document.getElementById('ad').appendChild(s)
    })()
  </script>
</div>

    
  
  
    <h1>Các hàm render & JSX</h1>
  
  
    <h2 id="Co-ban"><a href="#Co-ban" class="headerlink" title="Cơ bản"></a>Cơ bản</h2><p>Trong đại đa số các trường hợp, Vue khuyến khích sử dụng template để xây dựng HTML. Tuy nhiêu có một số trường hợp bạn cần dùng đến sức mạnh của JavaScript. Những lúc này bạn có thể dùng <strong>hàm render</strong> (render function), một giải pháp gần hơn với trình biên dịch, để thay thế cho template.</p>
<p>Chúng ta hãy xem một ví dụ đơn giản trong đó một hàm <code>render</code> trở nên hữu ích. Chẳng hạn, bạn muốn tạo các tiêu đề <code>h1</code>, <code>h2</code>, <code>h3</code>… chứa liên kết, như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"hello-world"</span> <span class="attr">href</span>=<span class="string">"#hello-world"</span>&gt;</span></span><br><span class="line">    Hello world!</span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Từ đoạn HTML trên, bạn quyết định tạo một giao diện component như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">anchored-heading</span> <span class="attr">:level</span>=<span class="string">"1"</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">anchored-heading</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Khi bắt đầu với một component chỉ tạo thẻ tiêu đề dựa trên prop <code>level</code> được truyền vào, bạn sẽ nhanh chóng đi đến một kết quả trông như thế này:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-template"</span> <span class="attr">id</span>=<span class="string">"anchored-heading-template"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  &lt;h1 v-<span class="keyword">if</span>=<span class="string">"level === 1"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;slot&gt;<span class="xml"><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="javascript">  &lt;h2 v-<span class="keyword">else</span>-<span class="keyword">if</span>=<span class="string">"level === 2"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;slot&gt;<span class="xml"><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="javascript">  &lt;h3 v-<span class="keyword">else</span>-<span class="keyword">if</span>=<span class="string">"level === 3"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;slot&gt;<span class="xml"><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="javascript">  &lt;h4 v-<span class="keyword">else</span>-<span class="keyword">if</span>=<span class="string">"level === 4"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;slot&gt;<span class="xml"><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span></span><br><span class="line"><span class="javascript">  &lt;h5 v-<span class="keyword">else</span>-<span class="keyword">if</span>=<span class="string">"level === 5"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;slot&gt;<span class="xml"><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span></span><br><span class="line"><span class="javascript">  &lt;h6 v-<span class="keyword">else</span>-<span class="keyword">if</span>=<span class="string">"level === 6"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;slot&gt;<span class="xml"><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">'anchored-heading'</span>, &#123;</span><br><span class="line">  template: <span class="string">'#anchored-heading-template'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    level: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Rõ ràng đây không phải là một template tốt. Chẳng những nó quá rườm rà, mà ở đây chúng ta còn lặp lại <code>&lt;slot&gt;&lt;/slot&gt;</code> cho mỗi level, và lại phải thực hiện một quá trình tương tự khi thêm phần tử <code>&lt;a&gt;</code>. Vì thế, hay thử viết lại với một hàm <code>render</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">'anchored-heading'</span>, &#123;</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(</span><br><span class="line">      <span class="string">'h'</span> + <span class="keyword">this</span>.level,   <span class="comment">// tên thẻ</span></span><br><span class="line">      <span class="keyword">this</span>.$slots.default <span class="comment">// mảng các phần tử con</span></span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    level: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Đơn giản hơn nhiều! Đại để thế. Code trở nên ngắn hơn, nhưng cũng đòi hỏi bạn phải quen thuộc hơn với các thuộc tính của đối tượng Vue. Trong trường hợp này, bạn phải biết rằng khi truyền các phần tử con không có thuộc tính <code>slot</code> vào trong một component, ví dụ <code>Hello world!</code> trong <code>anchored-heading</code>, các phần tử con này được chứa trong đối tượng component tại <code>$slots.default</code>. Chúng tôi khuyên bạn <strong>nên đọc về <a href="../api/#Thuoc-tinh-cua-doi-tuong">các API của các thuộc tính của đối tượng Vue</a> trước khi đi sâu nghiên cứu về các hàm render</strong>.</p>
<h2 id="Node-tree-va-virtual-DOM"><a href="#Node-tree-va-virtual-DOM" class="headerlink" title="Node, tree, và virtual DOM"></a>Node, tree, và virtual DOM</h2><p>Trước khi đi sâu vào các hàm render, ít nhiều kiến thức về cách hoạt động của trình duyệt là rất quan trọng. Ví dụ chúng ta có đoạn HTML sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Bài đồng dao<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  Năm mới năm me</span><br><span class="line">  <span class="comment">&lt;!-- <span class="doctag">TODO:</span> Hoàn thành bài đồng dao --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Khi đọc đoạn code này, trình duyệt sẽ xây dựng cấu trúc dạng cây (DOM tree) bao gồm các <a href="https://javascript.info/dom-nodes" target="_blank" rel="noopener">“DOM node”</a> để giúp quản lí mọi thứ, tương tự như việc bạn xây dựng một cây gia phả để giữ thông tin về mọi người trong dòng họ vậy.</p>
<p>Cấu trúc cây của đoạn HTML trên sẽ giống như sau:</p>
<p><img src="/images/dom-tree.png" alt="Sơ đồ DOM tree"></p>
<p>Mỗi phần tử trên DOM tree là một node. Mỗi text là một node. Ngay cả comment cũng là node! Một node đơn giản chỉ là một “mảnh” trên trang web. Và cũng tương tự như trong một cây gia phả, mỗi node có thể có các node con (nghĩa là một mảnh có thể chứa các mảnh khác).</p>
<p>Cập nhật tất cả các node này một cách hiệu quả có thể là một việc khó khăn, nhưng may thay, bạn không bao giờ phải làm việc này một cách thủ công. Thay vào đó, chỉ cần báo cho Vue biết bạn muốn có HTML gì trên trang, trong một template:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; blogTitle &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>hoặc trong một hàm render:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> createElement(<span class="string">'h1'</span>, <span class="keyword">this</span>.blogTitle)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Và trong cả hai trường hợp, Vue sẽ tự động giữ cho trang web được cập nhật, ngay cả khi <code>blogTitle</code> thay đổi.</p>
<h3 id="Virtual-DOM"><a href="#Virtual-DOM" class="headerlink" title="Virtual DOM"></a>Virtual DOM</h3><p>Vue làm được điều này nhờ vào việc xây dựng một <strong>virtual DOM</strong> (DOM ảo) để theo dõi tất cả những thay đổi cần thực hiện đối với DOM thật. Bạn hãy nhìn kĩ dòng này:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> createElement(<span class="string">'h1'</span>, <span class="keyword">this</span>.blogTitle)</span><br></pre></td></tr></table></figure>
<p>Lệnh <code>createElement</code> ở đây thực chất là đang trả về cái gì? <em>Không hẳn</em> là một element (phần tử) DOM thật sự. Nếu nói cho đúng, chúng ta có thể đặt lại tên cho hàm này một cách chính xác hơn là <code>tạoMôTảChoNode</code>, vì nó chứa những thông tin mô tả node mà Vue cần biết để render, bao gồm cả mô tả cho các node con. Chúng ta gọi mô tả này là một “virtual node” (node ảo), thường viết tắt là <strong>VNode</strong>. “Virtual DOM” là tên của toàn bộ một cây các VNode, được xây dựng từ một cây các component Vue.</p>
<h2 id="Cac-tham-so-cua-createElement"><a href="#Cac-tham-so-cua-createElement" class="headerlink" title="Các tham số của createElement"></a>Các tham số của <code>createElement</code></h2><p>Điều tiếp theo mà bạn cần thông thạo là cách dùng các tính năng của template trong hàm <code>createElement</code>. Đây là danh sách các tham số mà <code>createElement</code> nhận:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// @returns &#123;VNode&#125;</span></span><br><span class="line">createElement(</span><br><span class="line">  <span class="comment">// &#123;String | Object | Function&#125;</span></span><br><span class="line">  <span class="comment">// Một tên thẻ HTML, các tùy chọn cho component, hoặc một hàm</span></span><br><span class="line">  <span class="comment">// phân giải thành một trong những thứ này. Bắt buộc.</span></span><br><span class="line">  <span class="string">'div'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#123;Object&#125;</span></span><br><span class="line">  <span class="comment">// Một "data object" chứa dữ liệu tương ứng với các thuộc tính</span></span><br><span class="line">  <span class="comment">// mà bạn muốn dùng trong một template. Không bắt buộc.</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// (Xem chi tiết ở phần tiếp theo bên dưới)</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#123;String | Array&#125;</span></span><br><span class="line">  <span class="comment">// Các VNode con, được tạo ra bằng cách dùng `createElement()`,</span></span><br><span class="line">  <span class="comment">// hoặc dùng chuỗi để tạo các 'text VNode'. Không bắt buộc.</span></span><br><span class="line">  [</span><br><span class="line">    <span class="string">'Một ít text trước.'</span>,</span><br><span class="line">    createElement(<span class="string">'h1'</span>, <span class="string">'Một tiêu đề'</span>),</span><br><span class="line">    createElement(MyComponent, &#123;</span><br><span class="line">      props: &#123;</span><br><span class="line">        someProp: <span class="string">'foobar'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="Chi-tiet-ve-data-object"><a href="#Chi-tiet-ve-data-object" class="headerlink" title="Chi tiết về data object"></a>Chi tiết về data object</h3><p>Một điểm cần lưu ý: tương tự với việc được <a href="class-and-style.html">đối xử đặc biệt</a> trong template, <code>v-bind:class</code> và <code>v-bind:style</code> cũng có các field (trường) riêng ở top-level (cấp cao nhất) trong data object của VNode. Object này cũng cho phép bạn bind (ràng buộc) các thuộc tính HTML thông thường cũng như các thuộc tính DOM như <code>innerHTML</code> (thay thế cho directive <code>v-html</code>):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// Có cùng API với `v-bind:class`</span></span><br><span class="line">  class: &#123;</span><br><span class="line">    foo: <span class="literal">true</span>,</span><br><span class="line">    bar: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Có cùng API với `v-bind:style`</span></span><br><span class="line">  style: &#123;</span><br><span class="line">    color: <span class="string">'red'</span>,</span><br><span class="line">    fontSize: <span class="string">'14px'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Các thuộc tính HTML thông thường</span></span><br><span class="line">  attrs: &#123;</span><br><span class="line">    id: <span class="string">'foo'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Các prop cho component</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    myProp: <span class="string">'bar'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Các thuộc tính DOM</span></span><br><span class="line">  domProps: &#123;</span><br><span class="line">    innerHTML: <span class="string">'baz'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Các hàm xử lí sự kiện được lồng vào bên trong `on`,</span></span><br><span class="line">  <span class="comment">// tuy rằng modifier (như trong `v-on:keyup.enter`) không được</span></span><br><span class="line">  <span class="comment">// hỗ trợ. Thay vào đó, bạn sẽ phải tự kiểm tra keyCode bên</span></span><br><span class="line">  <span class="comment">// trong hàm.</span></span><br><span class="line">  on: &#123;</span><br><span class="line">    click: <span class="keyword">this</span>.clickHandler</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Chỉ dành riêng cho component. Cho phép bạn lắng nghe các</span></span><br><span class="line">  <span class="comment">// sự kiện native, thay vì các sự kiện được phát ra từ component</span></span><br><span class="line">  <span class="comment">// bằng cách sử dụng `vm.$emit`.</span></span><br><span class="line">  nativeOn: &#123;</span><br><span class="line">    click: <span class="keyword">this</span>.nativeClickHandler</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Các directive tùy biến. Lưu ý là bạn không thể gán giá trị</span></span><br><span class="line">  <span class="comment">// `oldValue`, vì Vue sẽ tự động quản lí giá trị này thay bạn.</span></span><br><span class="line">  directives: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'my-custom-directive'</span>,</span><br><span class="line">      value: <span class="string">'2'</span>,</span><br><span class="line">      expression: <span class="string">'1 + 1'</span>,</span><br><span class="line">      arg: <span class="string">'foo'</span>,</span><br><span class="line">      modifiers: &#123;</span><br><span class="line">        bar: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// Các scoped slot dưới dạng</span></span><br><span class="line">  <span class="comment">// &#123; name: props =&gt; VNode | Array&lt;VNode&gt; &#125;</span></span><br><span class="line">  scopedSlots: &#123;</span><br><span class="line">    <span class="keyword">default</span>: <span class="function"><span class="params">props</span> =&gt;</span> createElement(<span class="string">'span'</span>, props.text)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Tên của slot, nếu component này là con của một component khác</span></span><br><span class="line">  <span class="comment">// child of another component</span></span><br><span class="line">  slot: <span class="string">'name-of-slot'</span>,</span><br><span class="line">  <span class="comment">// Các thuộc tính top-level khác</span></span><br><span class="line">  key: <span class="string">'myKey'</span>,</span><br><span class="line">  ref: <span class="string">'myRef'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Vi-du-hoan-chinh"><a href="#Vi-du-hoan-chinh" class="headerlink" title="Ví dụ hoàn chỉnh"></a>Ví dụ hoàn chỉnh</h3><p>Với kiến thức đã học, bây giờ chúng ta đã có thể viết nốt component trên đây:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> getChildrenTextContent = <span class="function"><span class="keyword">function</span> (<span class="params">children</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> children.map(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> node.children</span><br><span class="line">      ? getChildrenTextContent(node.children)</span><br><span class="line">      : node.text</span><br><span class="line">  &#125;).join(<span class="string">''</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">'anchored-heading'</span>, &#123;</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// tạo id với kebabCase</span></span><br><span class="line">    <span class="keyword">var</span> headingId = getChildrenTextContent(<span class="keyword">this</span>.$slots.default)</span><br><span class="line">      .toLowerCase()</span><br><span class="line">      .replace(<span class="regexp">/\W+/g</span>, <span class="string">'-'</span>)</span><br><span class="line">      .replace(<span class="regexp">/(^\-|\-$)/g</span>, <span class="string">''</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> createElement(</span><br><span class="line">      <span class="string">'h'</span> + <span class="keyword">this</span>.level,</span><br><span class="line">      [</span><br><span class="line">        createElement(<span class="string">'a'</span>, &#123;</span><br><span class="line">          attrs: &#123;</span><br><span class="line">            name: headingId,</span><br><span class="line">            href: <span class="string">'#'</span> + headingId</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="keyword">this</span>.$slots.default)</span><br><span class="line">      ]</span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    level: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Mot-so-han-che"><a href="#Mot-so-han-che" class="headerlink" title="Một số hạn chế"></a>Một số hạn chế</h3><h4 id="VNode-phai-la-duy-nhat"><a href="#VNode-phai-la-duy-nhat" class="headerlink" title="VNode phải là duy nhất"></a>VNode phải là duy nhất</h4><p>Tất cả các VNode trong cây component phải là duy nhất. Điều này có nghĩa là hàm render sau đây không hợp lệ:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> myParagraphVNode = createElement(<span class="string">'p'</span>, <span class="string">'hi'</span>)</span><br><span class="line">  <span class="keyword">return</span> createElement(<span class="string">'div'</span>, [</span><br><span class="line">    <span class="comment">// Hai VNode này trùng nhau!</span></span><br><span class="line">    myParagraphVNode, myParagraphVNode</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Nếu thật sự muốn dùng cùng một phần tử hoặc component nhiều lần, bạn có thể dùng một hàm factory. Ví dụ, hàm render sau đây là một cách hoàn toàn hợp lệ để render 18 phần tử <code>&lt;p&gt;</code> giống nhau:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> createElement(<span class="string">'div'</span>,</span><br><span class="line">    <span class="built_in">Array</span>.apply(<span class="literal">null</span>, &#123; <span class="attr">length</span>: <span class="number">18</span> &#125;).map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> createElement(<span class="string">'p'</span>, <span class="string">'Hùng Vương'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Thay-the-cac-tinh-nang-cua-template-bang-JavaScript-don-thuan"><a href="#Thay-the-cac-tinh-nang-cua-template-bang-JavaScript-don-thuan" class="headerlink" title="Thay thế các tính năng của template bằng JavaScript đơn thuần"></a>Thay thế các tính năng của template bằng JavaScript đơn thuần</h2><h3 id="v-if-va-v-for"><a href="#v-if-va-v-for" class="headerlink" title="v-if và v-for"></a><code>v-if</code> và <code>v-for</code></h3><p>Bất cứ khi nào một việc gì đó có thể làm được dễ dàng bằng JavaScript đơn thuần, các hàm render của Vue đều <em>không</em> cung cấp một giải pháp thay thế chuyên biệt. Ví dụ, trong một template có sử dụng <code>v-if</code> và <code>v-for</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-if</span>=<span class="string">"items.length"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in items"</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>Không tìm thấy kết quả nào.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Ví dụ này có thể được viết lại với <code>if</code>/<code>else</code> và <code>map</code> của JavaScript trong một hàm render:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">props: [<span class="string">'items'</span>],</span><br><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.items.length) &#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'ul'</span>, <span class="keyword">this</span>.items.map(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> createElement(<span class="string">'li'</span>, item.name)</span><br><span class="line">    &#125;))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'p'</span>, <span class="string">'Không tìm thấy kết quả nào.'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a><code>v-model</code></h3><p>Vue không cung cấp tính năng thay thế cho <code>v-model</code> trong các hàm render - bạn sẽ phải tự phát triển logic này:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">props: [<span class="string">'value'</span>],</span><br><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">return</span> createElement(<span class="string">'input'</span>, &#123;</span><br><span class="line">    domProps: &#123;</span><br><span class="line">      value: self.value</span><br><span class="line">    &#125;,</span><br><span class="line">    on: &#123;</span><br><span class="line">      input: <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        self.$emit(<span class="string">'input'</span>, event.target.value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Đây là cái giá cho việc viết code ở cấp thấp – tuy nhiên bù vào đó thì bạn có gần như toàn quyền điều khiển các tương tác nếu so sánh với <code>v-model</code>.</p>
<h3 id="Event-va-key-modifier"><a href="#Event-va-key-modifier" class="headerlink" title="Event và key modifier"></a>Event và key modifier</h3><p>Đối với các <a href="events.html#Event-modifier">event modifier</a> <code>.passive</code>, <code>.capture</code> và <code>.once</code>, Vue cung cấp các prefix (tiền tố) có thể sử dụng với <code>on</code>:</p>
<table>
<thead>
<tr>
<th>Modifier</th>
<th>Prefix</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.passive</code></td>
<td><code>&amp;</code></td>
</tr>
<tr>
<td><code>.capture</code></td>
<td><code>!</code></td>
</tr>
<tr>
<td><code>.once</code></td>
<td><code>~</code></td>
</tr>
<tr>
<td><code>.capture.once</code> hoặc<br><code>.once.capture</code></td>
<td><code>~!</code></td>
</tr>
</tbody>
</table>
<p>Ví dụ:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">on: &#123;</span><br><span class="line">  <span class="string">'!click'</span>: <span class="keyword">this</span>.doThisInCapturingMode,</span><br><span class="line">  <span class="string">'~keyup'</span>: <span class="keyword">this</span>.doThisOnce,</span><br><span class="line">  <span class="string">'~!mouseover'</span>: <span class="keyword">this</span>.doThisOnceInCapturingMode</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Đối với tất cả các event và key modifier khác, một prefix chuyên biệt là không cần thiết vì bạn có thể dùng các phương thức sự kiện bên trong hàm xử lí:</p>
<table>
<thead>
<tr>
<th>Modifier</th>
<th>Giải pháp tương đương trong hàm xử lí</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.stop</code></td>
<td><code>event.stopPropagation()</code></td>
</tr>
<tr>
<td><code>.prevent</code></td>
<td><code>event.preventDefault()</code></td>
</tr>
<tr>
<td><code>.self</code></td>
<td><code>if (event.target !== event.currentTarget) return</code></td>
</tr>
<tr>
<td>Phím:<br><code>.enter</code>, <code>.13</code></td>
<td><code>if (event.keyCode !== 13) return</code> (thay <code>13</code> bằng <a href="http://keycode.info/" target="_blank" rel="noopener">một mã phím khác</a> đối với các modifier khác)</td>
</tr>
<tr>
<td>Modifier cho phím:<br><code>.ctrl</code>, <code>.alt</code>, <code>.shift</code>, <code>.meta</code></td>
<td><code>if (!event.ctrlKey) return</code> (thay <code>ctrlKey</code> bằng <code>altKey</code>, <code>shiftKey</code>, hoặc <code>metaKey</code> tương ứng)</td>
</tr>
</tbody>
</table>
<p>Đây là một ví dụ dùng tất cả các modifier trên cùng một lúc:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">on: &#123;</span><br><span class="line">  keyup: <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Dừng thực thi nếu phần tử đang phát ra sự kiện</span></span><br><span class="line">    <span class="comment">// không phải là phần tử được bind sự kiện</span></span><br><span class="line">    <span class="keyword">if</span> (event.target !== event.currentTarget) <span class="keyword">return</span></span><br><span class="line">    <span class="comment">// Dừng thực thi nếu phím đang được thả không phải là</span></span><br><span class="line">    <span class="comment">// enter (13) và người dùng không đồng thời nhấn shift</span></span><br><span class="line">    <span class="keyword">if</span> (!event.shiftKey || event.keyCode !== <span class="number">13</span>) <span class="keyword">return</span></span><br><span class="line">    <span class="comment">// Ngừng lan truyền sự kiện</span></span><br><span class="line">    event.stopPropagation()</span><br><span class="line">    <span class="comment">// Chặn hàm xử lí keyup mặc định dành cho phần tử hiện hành</span></span><br><span class="line">    event.preventDefault()</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Slot"><a href="#Slot" class="headerlink" title="Slot"></a>Slot</h3><p>Bạn có thể truy xuất đến các nội dung tĩnh của <a href="components.html#Phan-bo-noi-dung-voi-slot">slot</a> dưới dạng các mảng VNode thông qua <a href="../api/#vm-slots"><code>this.$slots</code></a>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// `&lt;div&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;`</span></span><br><span class="line">  <span class="keyword">return</span> createElement(<span class="string">'div'</span>, <span class="keyword">this</span>.$slots.default)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>và truy xuất đến các <a href="components.html#Scoped-slot">scoped slot</a> dưới dạng các hàm trả về VNode thông qua <a href="../api/#vm-scopedSlots"><code>this.$scopedSlots</code></a>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">props: [<span class="string">'message'</span>],</span><br><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// `&lt;div&gt;&lt;slot :text="message"&gt;&lt;/slot&gt;&lt;/div&gt;`</span></span><br><span class="line">  <span class="keyword">return</span> createElement(<span class="string">'div'</span>, [</span><br><span class="line">    <span class="keyword">this</span>.$scopedSlots.default(&#123;</span><br><span class="line">      text: <span class="keyword">this</span>.message</span><br><span class="line">    &#125;)</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Để truyền các scoped slot vào một component con bằng hàm render, dùng trường <code>scopeSlots</code> trong dữ liệu của VNode:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> createElement(<span class="string">'div'</span>, [</span><br><span class="line">    createElement(<span class="string">'child'</span>, &#123;</span><br><span class="line">      <span class="comment">// truyền `scopedSlots` trong object dữ liệu dưới dạng</span></span><br><span class="line">      <span class="comment">// &#123; name: props =&gt; VNode | Array&lt;VNode&gt; &#125;</span></span><br><span class="line">      scopedSlots: &#123;</span><br><span class="line">        <span class="keyword">default</span>: <span class="function"><span class="keyword">function</span> (<span class="params">props</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> createElement(<span class="string">'span'</span>, props.text)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><p>Nếu dùng nhiều hàm <code>render</code>, có lẽ bạn sẽ cảm thấy khá cực nhọc khi phải viết những đi viết lại những dòng code như thế này:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">createElement(</span><br><span class="line">  <span class="string">'anchored-heading'</span>, &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">      level: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [</span><br><span class="line">    createElement(<span class="string">'span'</span>, <span class="string">'Hello'</span>),</span><br><span class="line">    <span class="string">' world!'</span></span><br><span class="line">  ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Nhất là khi nếu dùng template thì đơn giản hơn nhiều:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">anchored-heading</span> <span class="attr">:level</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">span</span>&gt;</span> world!</span><br><span class="line"><span class="tag">&lt;/<span class="name">anchored-heading</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Đó là lí do Vue cung cấp một <a href="https://github.com/vuejs/babel-plugin-transform-vue-jsx" target="_blank" rel="noopener">plugin dành cho Babel</a> để dùng JSX với Vue, giúp chúng ta quay lại sử dụng một cú pháp gần gũi hơn với template:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> AnchoredHeading <span class="keyword">from</span> <span class="string">'./AnchoredHeading.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#demo'</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;AnchoredHeading level=&#123;<span class="number">1</span>&#125;&gt;</span><br><span class="line">        &lt;span&gt;Hello&lt;<span class="regexp">/span&gt; world!</span></span><br><span class="line"><span class="regexp">      &lt;/</span>AnchoredHeading&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p class="tip">Dùng <code>h</code> thay cho <code>createElement</code> là một quy ước thông dụng trong hệ sinh thái của Vue, đồng thời là bắt buộc đối với JSX. Nếu <code>h</code> không tồn tại trong scope, ứng dụng của bạn sẽ xảy ra lỗi.</p>

<p>Để biết thêm chi tiết về cách thức đối chiếu từ JSX sang JavaScript, hãy <a href="https://github.com/vuejs/babel-plugin-transform-vue-jsx#usage" target="_blank" rel="noopener">đọc kĩ hướng dẫn sử dụng trước khi dùng</a>.</p>
<h2 id="Functional-component"><a href="#Functional-component" class="headerlink" title="Functional component"></a>Functional component</h2><p>Component mà ta vừa viết còn khá đơn giản - nó không quản lí trạng thái, không theo dõi trạng thái được truyền vào, và không có bất kì phương thức vòng đời (life-cycle method) nào. Thật sự nó chỉ là một hàm với vài thuộc tính (prop).</p>
<p>Trong những trường hợp như thế, ta có thể đánh dấu component là <code>functional</code>. Một functional component (component thuần chức năng) không có trạng thái (stateless – không có <code>data</code>), không có đối tượng (instanceless – không có ngữ cảnh <code>this</code>), và trông như thế này:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</span><br><span class="line">  functional: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// Để bù cho việc thiếu một đối tượng, một tham số `context`</span></span><br><span class="line">  <span class="comment">// được truyền vào, tham chiếu đến ngữ cảnh hiện tại.</span></span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement, context</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Props là không bắt buộc</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Trong các phiên bản trước 2.3.0, tùy chọn <code>props</code> là bắt buộc nếu bạn muốn nhận props trong một functional component. Từ phiên bản 2.3.0 trở về sau, bạn có thể bỏ qua tùy chọn <code>props</code>, và khi đó tất cả các thuộc tính tìm thấy trên component node sẽ được trích xuất ngầm thành props.</p>
</blockquote>
<p>Từ bản 2.5.0 trở đi, nếu bạn đang dùng <a href="single-file-components.html">single-file component</a>, functional component dựa trên template có thể được khai báo như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">functional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Mọi thứ mà component cần được truyền vào thông qua <code>context</code>, một object chứa:</p>
<ul>
<li><code>props</code>: Một object chứa các prop được cung cấp</li>
<li><code>children</code>: Một mảng các VNode con</li>
<li><code>slots</code>: Một hàm trả về một object chứa các slot</li>
<li><code>data</code>: Toàn bộ object data truyền vào component</li>
<li><code>parent</code>: Trỏ đến component cha</li>
<li><code>listeners</code>: (2.3.0+) Một object chứa các hàm lắng nghe sự kiện được đăng kí ở component cha. Đây là một tên khác của <code>data.on</code>.</li>
<li><code>injections</code>: (2.3.0+) Chứa các injection đã được resolve (phân giải), nếu sử dụng tùy chọn <a href="../api/#provide-inject"><code>inject</code></a></li>
</ul>
<p>Sau khi thêm <code>functional: true</code> vào component <code>AnchorHeading</code>, chúng ta cần thêm những thay đổi sau đây vào hàm render của component này: thêm tham số  <code>context</code>, thay <code>this.$slots.default</code> bằng <code>context.children</code>, và thay <code>this.level</code> bằng <code>context.props.level</code>.</p>
<p>Vì chỉ là hàm đơn thuần, việc render các functional component ít tốn kém nhiều so với component thông thường. Tuy nhiên, việc thiếu một đối tượng bền vững (persistent instance) nghĩa là bạn sẽ không thấy được functional component trong cây component của <a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="noopener">Vue devtools</a>.</p>
<p>Functional component cũng rất hữu dụng trong vai trò wrapper component. Ví dụ, khi bạn cần:</p>
<ul>
<li>Chọn một trong số vài component khác thông qua code để delegate (ủy nhiệm)</li>
<li>Chỉnh sửa các phần tử con, props, hoặc data trước khi truyền vào một component con</li>
</ul>
<p>Sau đây là một ví dụ về một component <code>smart-list</code>, component này đóng vai trò “delegate” cho các component cụ thể hơn dựa trên các prop được truyền vào:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> EmptyList = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">var</span> TableList = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">var</span> OrderedList = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">var</span> UnorderedList = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">'smart-list'</span>, &#123;</span><br><span class="line">  functional: <span class="literal">true</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement, context</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">appropriateListComponent</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> items = context.props.items</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (items.length === <span class="number">0</span>)           <span class="keyword">return</span> EmptyList</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> items[<span class="number">0</span>] === <span class="string">'object'</span>) <span class="keyword">return</span> TableList</span><br><span class="line">      <span class="keyword">if</span> (context.props.isOrdered)      <span class="keyword">return</span> OrderedList</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> UnorderedList</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> createElement(</span><br><span class="line">      appropriateListComponent(),</span><br><span class="line">      context.data,</span><br><span class="line">      context.children</span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    items: &#123;</span><br><span class="line">      type: <span class="built_in">Array</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    isOrdered: <span class="built_in">Boolean</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Truyen-thuoc-tinh-va-su-kien-xuong-phan-tu-hoac-component-con"><a href="#Truyen-thuoc-tinh-va-su-kien-xuong-phan-tu-hoac-component-con" class="headerlink" title="Truyền thuộc tính và sự kiện xuống phần tử hoặc component con"></a>Truyền thuộc tính và sự kiện xuống phần tử hoặc component con</h3><p>Với những component thông thường, các thuộc tính (attribute) không được định nghĩa dưới dạng prop sẽ được thêm vào phần tử gốc (root element) của component, thay thế hoặc <a href="class-and-style.html">merge một cách thông minh</a> các thuộc tính trùng tên có sẵn.</p>
<p>Tuy nhiên, các component chức năng bắt buộc bạn phải định nghĩa minh bạch hành vi này:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">'my-functional-button'</span>, &#123;</span><br><span class="line">  functional: <span class="literal">true</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement, context</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Truyền các thuộc tính, hàm lắng nghe sự kiện, các phần tử con v.v.</span></span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'button'</span>, context.data, context.children)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Bằng cách truyền <code>context.data</code> làm tham số thứ hai cho <code>createElement</code>, chúng ta đang truyền xuống bất cứ thuộc tính hoặc hàm lắng nghe sự kiện nào được dùng trong <code>my-function-button</code>. Việc này minh bạch đến mức các sự kiện này thậm chí không cần modifier <code>.native</code>.</p>
<p>Nếu đang dùng component chức năng dựa trên template, bạn cũng sẽ phải tự thêm vào các thuộc tính và hàm lắng nghe sự kiện. Vì có quyền truy xuất đến các nội dung ngữ cảnh riêng biệt, chúng ta có thể dùng <code>data.attrs</code> để truyền xuống các thuộc tính HTML và dùng <code>listeners</code> <em>(alias của <code>data.on</code>)</em> để truyền xuống các hàm lắng nghe sự kiện.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">functional</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">"btn btn-primary"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-bind</span>=<span class="string">"data.attrs"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-on</span>=<span class="string">"listeners"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="So-sanh-giua-slots-va-children"><a href="#So-sanh-giua-slots-va-children" class="headerlink" title="So sánh giữa slots() và children"></a>So sánh giữa <code>slots()</code> và <code>children</code></h3><p>Bạn có thể tự hỏi tại sao chúng ta lại cần cả hai <code>slots()</code> và <code>children</code>. Chẳng phải <code>slots().default</code> và <code>children</code> là như nhau hay sao? Trong một số trường hợp thì điều này là đúng, tuy nhiên hãy xem một functional component với các phần tử con như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-functional-component</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"foo"</span>&gt;</span></span><br><span class="line">    thứ nhất</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>thứ hai<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">my-functional-component</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Trong component này, <code>children</code> sẽ chứa cả hai phần tử <code>&lt;p&gt;</code>, <code>slots().default</code> chỉ chứa phần tử thứ hai, và<code>slots().foo</code> chỉ chứa phần tử thứ nhất. Việc có cả hai <code>children</code> và <code>slots()</code> vì vậy sẽ cho phép bạn quyết định component này có biết về hệ thống slot hay không, hoặc có thể giao phó trách nhiệm này cho một component khác bằng cách truyền <code>children</code>.</p>
<h2 id="Bien-dich-template"><a href="#Bien-dich-template" class="headerlink" title="Biên dịch template"></a>Biên dịch template</h2><p>Có thể bạn muốn biết là các template của Vue thật ra là được biên dịch thành các hàm render. Đây là một chi tiết kĩ thuật nâng cao mà thông thường có lẽ bạn không cần phải quan tâm đến, tuy nhiên nếu muốn xem các tính năng template cụ thể được biên dịch như thế nào thì bạn có thể thấy việc đó khá thú vị. Bên dưới là một ví dụ nhỏ sử dụng <code>Vue.compile</code> để biên dịch một chuỗi template thành hàm render tại chỗ:</p>

<div id="vue-compile-demo" class="demo">
  <textarea v-model="templateText" rows="10"></textarea>
  <div v-if="typeof result === 'object'">
    <label>render thành:</label>
    <pre><code>{{ result.render }}</code></pre>
    <label>staticRenderFns:</label>
    <pre v-for="(fn, index) in result.staticRenderFns"><code>_m({{ index }}): {{ fn }}</code></pre>
    <pre v-if="!result.staticRenderFns.length"><code>{{ result.staticRenderFns }}</code></pre>
  </div>
  <div v-else="">
    <label>Lỗi biên dịch:</label>
    <pre><code>{{ result }}</code></pre>
  </div>
</div>
<script>
new Vue({
  el: '#vue-compile-demo',
  data: {
    templateText: '\
<div>\n\
  <header>\n\
    <h1>Đây là hộp thư thoại</h1>\n\
  </header>\n\
  <p v-if="message">\n\
    Bạn có tin nhắn: {{ message }}\n\
  </p>\n\
  <p v-else>\n\
    Không ai nhắn nhủ gì cả.\n\
  </p>\n\
</div>\
    ',
  },
  computed: {
    result: function () {
      if (!this.templateText) {
        return 'Nhập vào một template hợp lệ bên trên.'
      }
      try {
        var result = Vue.compile(this.templateText.replace(/\s{2,}/g, ''))
        return {
          render: this.formatFunction(result.render),
          staticRenderFns: result.staticRenderFns.map(this.formatFunction)
        }
      } catch (error) {
        return error.message
      }
    }
  },
  methods: {
    formatFunction: function (fn) {
      return fn.toString().replace(/(\{\n)(\S)/, '$1  $2')
    }
  }
})
console.error = function (error) {
  throw new Error(error)
}
</script>
<style>
#vue-compile-demo {
  -webkit-user-select: inherit;
  user-select: inherit;
}
#vue-compile-demo pre {
  padding: 10px;
  overflow-x: auto;
}
#vue-compile-demo code {
  white-space: pre;
  padding: 0
}
#vue-compile-demo textarea {
  width: 100%;
  font-family: monospace;
}
</style>


  
  
    <div class="guide-links">
      
      
        <span>← <a href="/v2/guide/custom-directive.html">Directive tùy biến</a></span>
      
      
      
        <span style="float: right;"><a href="/v2/guide/plugins.html">Plugin</a> →</span>
      
    </div>
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD62QM', 'placement:vuejsorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

    Phát hiện lỗi hoặc muốn đóng góp vào nội dung?
    <a href="https://github.com/vuejs-vn/vuejs.org/blob/master/src/v2/guide/render-function.md" target="_blank">
      Chỉnh sửa trang này trên GitHub!
    </a>
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" href="/css/search.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      docsearch({
        apiKey: 'bd7d3891459fccb97fd1f689b1840bc5',
        indexName: 'vi_vuejs',

        inputSelector: selector,
        algoliaOptions: { 'facetFilters': ["lang:vi"] },

        debug: true
      });
    })
    </script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
